services:
  vsite.app.manager:
    class: Drupal\vsite\Plugin\AppManager
    parent: default_plugin_manager
  vsite.config_factory_override:
    class: Drupal\vsite\Config\VsiteConfigFactoryOverride
    tags:
      - { name: config.factory.override, priority: -254 }
      - { name: event_subscriber }
  vsite.config.factory:
    class: Drupal\vsite\Config\VsiteConfigFactory
    public: false
    decorates: config.factory
    decoration_priority: 3
    arguments: ['@config.storage', '@event_dispatcher', '@config.typed']
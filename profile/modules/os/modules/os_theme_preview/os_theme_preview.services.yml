services:
  os_theme_preview.handler:
    class: \Drupal\os_theme_preview\Handler
    arguments: ['@request_stack']
  os_theme_preview.vsite_wrapper:
    class: \Drupal\os_theme_preview\VsiteWrapper
    arguments: ['@vsite.context_manager']
  os_theme_preview.theme_negotiator:
    class: \Drupal\os_theme_preview\Theme\Negotiator
    arguments: ['@os_theme_preview.handler', '@os_theme_preview.vsite_wrapper']
    tags:
      - { name: theme_negotiator, priority: 100 }

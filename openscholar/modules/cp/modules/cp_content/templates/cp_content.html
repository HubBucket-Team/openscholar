<div class="cp-content">
  <div ng-show="multipleMessage.length > 0" class="messages status">
    <a class="dismiss" ng-click="closeMessage()">X</a>
    <div ng-show="multipleMessage.length > 0">
      <ul>
        <li ng-repeat="m in multipleMessage track by $index"><span ng-bind-html="m"></span></li>
      </ul>
    </div>
  </div>
  <div ng-show="message" class="messages status">
    <a class="dismiss" ng-click="closeMessage()">X</a>
    {{message}}
  </div>
  <div class="section-search">
    <div class="section-search-left">
      <div class="form-item"><label for="cp-title-text">Search By Title</label> <input id="cp-title-text" class="form-text" type="text" name="label" ng-model="label" />
      </div>
    </div>
    <div class="section-search-center">
      <div class="form-item"><label for="cp-title">Filter By</label>
        <div ng-if="contentTypeSettings" class="filter-content-type">
          <div cp-content-dropdown-multiselect="" options="contentTypes" selected-model="contentTypeModel" checkboxes="true" extra-settings="contentTypeSettings" translation-texts="contentTypeTexts" display-type="filter"></div>
        </div>
        <div ng-if="taxonomyTermsSettings" class="filter-taxonomy-terms">
          <div cp-content-dropdown-multiselect="" options="taxonomyTermsOptions" selected-model="taxonomyTermsModel" checkboxes="true" extra-settings="taxonomyTermsSettings" group-by="true" translation-texts="taxonomyTermsTexts" display-type="term" get-matched-taxonomy-terms="getMatchedTaxonomyTerms(false)"></div>
        </div>
      </div>
    </div>
    <div class="section-search-right">
      <div class="form-actions">
        <input type="button" name="search" ng-disabled="selectAllFlag" ng-click="search(true)" class="btn btn-primary" value="Search">
      </div>
    </div>
  </div>
  <div class="bulk-operation">
    <label for="cp-title-bulk">For selected items:</label>
    <div ng-if="applyTermSettings" class="bulk-add-term" ng-class="{'disable': disableBulkOptions == 1}">
      <div cp-content-dropdown-multiselect="" options="applyTermOptions" selected-model="applyTermModel" checkboxes="true" extra-settings="applyTermSettings" group-by="true" display-type="term" display-text="Apply Term" bulk-access="disableBulkOptions" get-matched-taxonomy-terms="getMatchedTaxonomyTerms(true)" node-term-operation=" nodeTermOperation('applyTerm')" set-message="setMessage(message)"></div>
    </div>
    <div ng-if="removeTermSettings" class="bulk-remove-term" ng-class="{'disable': disableBulkOptions == 1}">
      <div cp-content-dropdown-multiselect="" options="applyTermOptions" selected-model="removeTermModel" checkboxes="true" extra-settings="removeTermSettings" group-by="true" display-type="term" display-text="Remove Term"  bulk-access="disableBulkOptions" get-matched-taxonomy-terms="getMatchedTaxonomyTerms(true)" node-term-operation=" nodeTermOperation('removeTerm')" set-message="setMessage(message)"></div>
    </div>
    <span button-spinner="published" class="bulk-publish" ng-class="{'disable': disableBulkOptions == 1}" ng-click="!disableBulkOptions && nodeBulkOperation(1)">Publish</span>
    <span button-spinner="unpublished" class="bulk-unpublish" ng-class="{'disable': disableBulkOptions == 1}" ng-click="!disableBulkOptions && nodeBulkOperation(0)">Unpublish</span>
    <span class="bulk-delete last" ng-class="{'disable': disableBulkOptions == 1}" ng-click="!disableBulkOptions && nodeBulkOperation('delete')">Delete</span>
  </div>
  <script type="text/ng-template" id="headerCheckbox.html">
    <input type="checkbox" ng-model="checkboxes.checked" id="select_all" value="" ng-disabled="noRecords" />
  </script>
  <table ng-table="tableParams" class="table">
    <tr ng-repeat="node in tableParams.data" ng-class="{even: $even, odd: $odd}">
      <td header="'headerCheckbox.html'"><input type="checkbox" ng-model="checkboxes.items[node.id]" /></td>
      <td title="'Title'" sortable="'label'" ng-bind-html="node.link"></td>
      <td title="'Type'" sortable="'type'" class="node-type">{{node.type | convertBiblioToPublication | removeUnderscore}}</td>
      <td title="'Author'" sortable="'author'">{{node.author}}</td>
      <td title="'Published'" sortable="'publish_status'">
        <md-switch ng-model="node.publish_status" aria-label="publishStatus" ng-change="changeStatus(node.id, node.publish_status)"></md-switch>
      </td>
      <td title="'Date(Updated)'" sortable="'changed'">{{node.changed | date : "EEEE, MMMM d, y, h:mm a"}}</td>
      <td>
        <a href="#" class="cp-popover" ng-click="popOver($event, node.id)"><span class="glyphicon glyphicon-pencil">Action</span>
          <div class="cp-popover-wrapper left" ng-show="showPopover == node.id">
            <ul>
              <li><span dynamic-attr="{{entityType}}-edit" id="{{node.id}}">Edit</span></li>
              <li><span ng-show="{{node.delete_access}}" ng-click="nodeDelete(node.id)">Delete</span></li>
            </ul>
          </div>
        </a>
      </td>
    </tr>
    <tr ng-if="noRecords">
      <td colspan="6">No record found!</td>
    </tr>
  </table>
  <div ng-hide="deleteUndoAction" class="undo-message-box">Deleted selected content. <span><a ng-click="deleteUndo()">UNDO</a></span>
    <a class="dismiss" ng-click="deleteNodeOnClose()">X</a>
  </div>
  <div ng-hide="deleteUndoMessage" class="undo-message-box">Action undone.
    <a class="dismiss" ng-click="deleteUndoMessageClose()">X</a>
  </div>
  <div class="form-actions">
    <button ng-click="close(true)">Close</button>
  </div>
</div>
